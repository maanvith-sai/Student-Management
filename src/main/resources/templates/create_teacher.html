<!DOCTYPE html>
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="admin_base::layout(~{::section})">
<head>
  <meta charset="ISO-8859-1">
  <title>Students Management System</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>


<section class="container">
  <div class="row">
    <div class="col-lg-6 col-md-6 col-sm-6 container justify-content-center card">
      <h1 class="text-center">Add New Teacher</h1>
      <div class="card-body">
        <form th:action="saveTeacher" th:object="${teacher}" method="POST" enctype="multipart/form-data">

<!--          <div class="form-group">-->
<!--            <label>Student Photo</label>-->
<!--            <input type="file" class="form-control" id="imageFile" name="imageFile" aria-describedby="inputGroupFileAddon04" accept="image/*" aria-label="Upload" required>-->
<!--          </div>-->
<!--          <br>-->

          <div class="form-group">
            <label>Teacher ID</label>
            <input class="form-control" type="text" name="teacherId" th:field="*{teacherId}"
                   placeholder="Enter Teacher Id" id="teacher" onblur="handleFocusID()"/>
              <label style="color: red;" id = "id"></label>
          </div>

          <div class=" form-group">
            <label>Class ID</label>
            <input class="form-control" type="text" name="classId" th:field="*{classId}"
                   placeholder="Enter Class ID" id="classId" onblur="onhandleClassId()" />
              <label style="color: red;" id = "class"></label>
          </div>

          <div class="form-group">
            <label>Password</label>
            <input class="form-control" type="text" name="password" th:field="*{password}"
                   placeholder="Enter password" id="password" onblur="handleFocusPass()"/>
              <label style="color: red;" id = "pass"></label>
          </div>

          <div class="form-group">
            <label>Name</label>
            <input class="form-control" type="text" name="name" th:field="*{name}"
                   placeholder="Enter Name" />
              <label style="color: red;" id = "name"></label>
          </div>

          <div class=" form-group">
            <label>Email</label>
            <input class="form-control" type="email" name="email" th:field="*{email}"
                   placeholder="Enter email" id="email" onblur="handleFocusMail()"/>
              <label style="color: red;" id = "mail"></label>
          </div>
          <br>
          <div class="box-footer">
            <button type="submit" class="btn btn-primary">Create</button>
          </div>
        </form>
      </div>
    </div>
  </div>
    <script>
        function handleFocusPass() {
			let inputElement = document.getElementById("password");
			let reg = /^(?=.*[A-Z])(?=.*[@#])[^\s]{6,}$/; // Password should be at least 6 characters long, contain at least one uppercase letter, and contain at least one special character (@ or #)
			let errorMessageElement = document.getElementById("pass");

			if (!reg.test(inputElement.value)) {
				errorMessageElement.innerText = "Password must be at least 6 characters long, contain at least one uppercase letter, and contain at least one special character (@ or #).";
				inputElement.style.border='1px solid red';
			} else {
				errorMessageElement.innerText = ""; // Clear the error message if input is valid
				inputElement.style.border='1px solid #ced4da';
			}
		}


        function handleFocusMail() {
            let inputElement = document.getElementById("email");
            let reg = /^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;
            let errorMessageElement = document.getElementById("mail");

            if (!reg.test(inputElement.value)) {
                errorMessageElement.innerText = "Invalid email format.";
                inputElement.style.border='1px solid red';
            } else {
                errorMessageElement.innerText = ""; // Clear the error message if input is valid
                inputElement.style.border='1px solid #ced4da';
            }
        }


        function handleFocusID() {
            let inputElement = document.getElementById("teacher");
            let reg = /^[a-zA-Z0-9]{10}$/;
            let errorMessageElement = document.getElementById("id");

            if (!reg.test(inputElement.value)) {
                errorMessageElement.innerText = "Invalid format. Please enter 10 alphanumeric characters.";
                inputElement.style.border='1px solid red';
            } else {
                errorMessageElement.innerText = ""; // Clear the error message if input is valid
                inputElement.style.border='1px solid #ced4da';
            }
        }


    </script>
</section>
</body>

</html>